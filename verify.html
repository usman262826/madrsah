<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8">
  <title>‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ ‡¶Ü‡¶á‡¶°‡¶ø ‡¶ï‡¶æ‡¶∞‡ßç‡¶° - ‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ø‡¶º‡¶æ‡¶Æ ‡¶≠‡¶æ‡¶∞‡ßç‡¶∏‡¶®</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    /* ========== ‡¶´‡¶®‡ßç‡¶ü ‡¶°‡¶ø‡¶ï‡ßç‡¶≤‡¶æ‡¶∞‡ßá‡¶∂‡¶® (‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶Ö‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶ø‡¶§) ========== */
    @font-face {
      font-family: 'Qayyum book';
      src: url('‡¶´‡¶®‡ßç‡¶ü/Qayyum Book.ttf');
    }
    @font-face {
      font-family: 'JunudullahZami';
      src: url('‡¶´‡¶®‡ßç‡¶ü/FN Junudullah Zami.ttf') format('truetype');
      font-weight: normal;
      font-style: normal;
    }
    @font-face {
      font-family: 'Sheikh Hasina';
      src: url('‡¶´‡¶®‡ßç‡¶ü/Li Sheikh Hasina 2 Unicode.ttf');
    }
    @font-face {
      font-family: 'Ador Noirrit';
      src: url('‡¶´‡¶®‡ßç‡¶ü/Li Ador Noirrit A-V2 Light.ttf');
    }
    @font-face {
      font-family: 'Li Ador Noirrit';
      src: url('‡¶´‡¶®‡ßç‡¶ü/Li Ador Noirrit A-V2 Regular.ttf');
    }

    /* ========== ‡¶Ü‡¶ß‡ßÅ‡¶®‡¶ø‡¶ï ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶®‡¶ø‡¶Æ‡ßá‡¶∂‡¶® ========== */
    @keyframes fadeInScale {
      0% { opacity: 0; transform: scale(0.9); }
      100% { opacity: 1; transform: scale(1); }
    }
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes slideDown {
      0% { opacity: 0; transform: translateY(-20px); }
      100% { opacity: 1; transform: translateY(0); }
    }
    @keyframes softBlink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }
    @keyframes footerFadeIn {
      from { opacity: 0; transform: scale(0.95) translateY(20px); }
      to { opacity: 1; transform: scale(1) translateY(0); }
    }

    /* ========== ‡¶ó‡ßç‡¶≤‡ßã‡¶¨‡¶æ‡¶≤ ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ ========== */
    body {
      margin: 0;
      background: linear-gradient(145deg, #d4f3ef 0%, #b0e0db 100%);
      font-family: 'Qayyum book', 'Ador Noirrit', sans-serif;
      color: #004d40;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px 15px;
      box-sizing: border-box;
      position: relative;
    }

    .main-wrapper {
      width: 100%;
      max-width: 950px;
    }

    /* ========== ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ ‡¶ì‡¶≠‡¶æ‡¶∞‡¶≤‡ßá ========== */
    .status-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 60, 50, 0.75);
      backdrop-filter: blur(8px);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 2000;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.5s ease, visibility 0.5s ease, background 0.5s ease;
    }
    .status-overlay.active {
      opacity: 1;
      visibility: visible;
    }
    .status-overlay.warning {
      background: rgba(160, 30, 30, 0.9);
    }
    .overlay-card {
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(12px);
      border-radius: 50px;
      padding: 40px 60px;
      box-shadow: 0 25px 50px -8px black;
      border: 2px solid rgba(255,215,0,0.3);
      max-width: 700px;
      margin: 0 20px;
      animation: fadeInScale 0.4s ease-out;
    }
    .overlay-main {
      font-family: 'Sheikh Hasina', 'Kalpurush', serif;
      font-size: 4rem;
      line-height: 1.2;
      color: #fff3e0;
      text-shadow: 3px 3px 0 #1b4e3f;
      display: block;
      text-align: center;
      border-bottom: 3px solid gold;
      padding-bottom: 15px;
      margin-bottom: 15px;
    }
    .overlay-sub {
      font-family: 'Li Ador Noirrit', 'Kalpurush', sans-serif;
      font-size: 2rem;
      color: #ffe0b0;
      display: block;
      text-align: center;
      font-weight: 500;
    }
    .overlay-sub.warning-sub {
      color: #ffd180;
      font-weight: bold;
      animation: softBlink 1.5s infinite;
    }

    /* ========== ‡¶π‡ßá‡¶°‡¶æ‡¶∞ ‡¶ì ‡¶≤‡ßã‡¶ó‡ßã ========== */
    .header img.logo {
      width: 200px;
      max-width: 500px;
      height: auto;
      display: block;
      margin: 20px auto 10px;
      opacity: 0;
      animation: slideDown 0.8s ease forwards 0.1s;
      filter: drop-shadow(0 6px 10px #004d4070);
    }
    .header h1 {
      font-family: 'JunudullahZami', 'Kalpurush', serif;
      font-size: 29px;
      color: #00724e;
      margin: 5px 0 0;
      text-align: center;
      opacity: 0;
      animation: fadeIn 0.8s ease forwards 0.2s;
    }

    /* ========== ‡¶ï‡¶æ‡¶∞‡ßç‡¶° ========== */
    .card {
      max-width: 800px;
      background: linear-gradient(#e9fffc,#e2f6e2);
      backdrop-filter: blur(8px);
      margin: 19px auto;
      border-radius: 15px;
      padding: 35px 40px;
      box-shadow: 0 20px 30px -5px #00382e60, 0 0 0 2px #c5e0d8 inset;
      animation: fadeInUp 0.9s ease forwards 0.3s;
      opacity: 0;
    }

    /* ‡¶ü‡¶æ‡¶á‡¶ü‡ßá‡¶≤ "‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ‡¶∞ ‡¶®‡¶æ‡¶Æ" */
    .title {
      font-family: 'Qayyum book', serif;
      font-size: 22px;
      color: #00695c;
      text-align: center;
      letter-spacing: 0px;
      margin-bottom: 1px;
    }
     /* ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ‡¶∞ ‡¶®‡¶æ‡¶Æ‡ßá‡¶∞ ‡¶¨‡¶°‡¶º ‡¶¨‡¶ï‡ßç‡¶∏ */
    .student-name-center {
      display: block;
      width: fit-content;
      min-width: 80%;
      text-align: center;
      font-family: 'Sheikh Hasina', 'kalpurush', serif;
      color: #004d37;
      padding: 15px 25px;
      font-size: 32px;
      opacity: 0;
      animation: fadeInUp 0.8s ease-out forwards;
    }

    /* ‡¶§‡¶•‡ßç‡¶Ø‡ßá‡¶∞ ‡¶∏‡¶æ‡¶∞‡¶ø (row) */
    .row {
      display: flex;
      align-items: center;
      flex-wrap: wrap;
      margin-bottom: 5px;
      padding: 14px 25px;
      border-radius: 15px;
      background: #ffffff;
      border-left: 5px solid #01796b;
      box-shadow: 0 6px 12px #003d331a;
      transition: all 0.3s ease;
      opacity: 0;
      animation: fadeInUp 0.6s ease forwards;
    }
    .row:hover {
      transform: translateX(8px) translateY(-3px);
      box-shadow: 0 14px 28px #003d3360;
      background: #f0fffa;
      border-left-color: #d4a017;
    }

    /* ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø row-‡¶è‡¶∞ ‡¶°‡ßá‡¶≤€í */
    .row:nth-of-type(1) { animation-delay: 0.5s; }
    .row:nth-of-type(2) { animation-delay: 0.6s; }
    .row:nth-of-type(3) { animation-delay: 0.7s; }
    .row:nth-of-type(4) { animation-delay: 0.8s; }
    .row:nth-of-type(5) { animation-delay: 0.9s; }
    .row:nth-of-type(6) { animation-delay: 1.0s; }
    .row:nth-of-type(7) { animation-delay: 1.1s; }
    .row:nth-of-type(8) { animation-delay: 1.2s; }
    .row:nth-of-type(9) { animation-delay: 1.3s; }
    .row:nth-of-type(10) { animation-delay: 1.4s; }
    .row:nth-of-type(11) { animation-delay: 1.5s; }

    /* ‡¶≤‡ßá‡¶¨‡ßá‡¶≤ ‡¶†‡¶ø‡¶ï ‡¶ï‡¶∞‡¶æ */
    .label {
      min-width: auto;
      font-weight: 700;
      font-size: 19px;
      color: #026b5c;
      font-family: 'Li Ador Noirrit', 'Kalpurush', sans-serif;
      position: relative;
      margin-right: 15px;
      white-space: nowrap;
      padding-right: 5px;
    }
    
    .label::after {
      content: ":";
      position: absolute;
      right: -5px;
      color: #8b0303;
    }
    .value {
      font-size: 20px;
      color: #76026c;
      font-family: 'Qayyum book', 'Kalpurush', sans-serif;
      margin-left: 8px;
      word-break: break-word;
      flex: 1;
    }
    .value.empty {
      flex: 1;
      margin-left: 18px; /* value ‡¶ü‡¶æ‡¶ï‡ßá ‡¶°‡¶æ‡¶®‡¶¶‡¶ø‡¶ï‡ßá ‡¶ö‡¶æ‡¶™‡¶æ‡¶®‡ßã‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø */
      color: #888;
      font-style: italic;
      font-family: 'kalpurush';
      font-size: 15px;
      word-break: break-word;
      white-space: normal;
    }

    /* 404 ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤‡ßá‡¶∞ ‡¶¨‡ßç‡¶≤‡¶ï‡¶° ‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ */
    .blocked-info {
      text-align: center;
      padding: 50px 25px;
      background: #ffebee;
      border-radius: 70px;
      border: 4px solid #b71c1c;
      box-shadow: 0 0 40px #f44336;
      animation: softBlink 2s infinite;
    }
    .blocked-icon {
      font-size: 80px;
      line-height: 1.2;
      display: block;
      margin-bottom: 25px;
    }
    .blocked-message {
      font-family: 'Sheikh Hasina', serif;
      font-size: 40px;
      color: #a51d1d;
      line-height: 1.4;
    }
    .blocked-sub {
      font-family: 'kalpurush', sans-serif;
      font-size: 26px;
      color: #8b0000;
      margin-top: 20px;
    }
    .blocked-small {
      font-size: 18px;
      color: #b32d00;
      margin-top: 25px;
      border-top: 2px dashed red;
      padding-top: 15px;
    }

    .year-footer-display {
      text-align: center;
      font-size: 18px;
      margin-top: 0px;
      margin-bottom: 0px;
      color: #1b6b50;
      font-family: 'kalpurush', serif;  
    }

    footer {
      text-align: center;
      margin-top: 20px;
    }
    footer img {
      width: 90%;
      max-width: 750px;
      height: auto;
      display: block;
      margin: 0 auto 30px;
      border-radius: 40px;
      opacity: 0;
      animation: footerFadeIn 1s ease forwards 0.6s;
    }
    .footer {
      text-align: center;
      margin-top: 15px;
      font-family: 'Ador Noirrit', sans-serif;
      color: #00382e;
      font-size: 16px;
      padding: 15px;
      background: #cceae3;
      border-radius: 50px;
      width: 100%;
      max-width: 700px;
    }

    .not-found {
      text-align: center;
      font-size: 28px;
      color: #b33939;
      background: #ffe6e6;
      padding: 45px;
      border-radius: 60px;
    }

    /* ‡¶∞‡ßá‡¶∏‡¶™‡¶®‡ßç‡¶∏‡¶ø‡¶≠ */
    @media (max-width: 767px){
      .value { white-space: normal; font-size: 17px; }
      .student-name { font-size: 24px;}
      .label { flex: 0 0 120px; font-size: 17px; }
    }
    @media (max-width: 700px) {
      .overlay-main { font-size: 2.8rem; }
      .overlay-sub { font-size: 1.6rem; }
      .card { padding: 20px 15px; }
      .row { padding: 12px 18px; }
      .label { font-size: 18px; }
      .value { font-size: 18px; }
      .student-name-center { font-size: 26px; }
    }
  </style>
</head>
<body>
  <div class="main-wrapper">
    <div class="header">
      <img src="png/logo.png" alt="‡¶≤‡ßã‡¶ó‡ßã" class="logo" />
      <h1>‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶∂‡¶® ‡¶§‡¶•‡ßç‡¶Ø</h1>
      <div id="yearDisplay" class="year-footer-display"></div>
    </div>
    <div class="card">
      <div id="studentInfo">‡¶§‡¶•‡ßç‡¶Ø ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</div>
    </div>
      <!-- ‡¶≠‡¶æ‡¶∏‡¶Æ‡¶æ‡¶® ‡¶π‡ßã‡¶Æ ‡¶¨‡¶æ‡¶ü‡¶® -->
      <a href="index.html" style="
        position: fixed;
        bottom: 30px;
        right: 30px;
        background: #006951;
        color: white;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        text-decoration: none;
        font-size: 35px;
        box-shadow: 0 4px 20px rgba(0,0,0,0.3);
        border: 0.5px solid #eafcff;
        z-index: 9999;
        transition: all 0.3s ease;
        font-weight: bold;
      " onmouseover="this.style.transform='scale(1.1)'; this.style.background='#004d40';" 
        onmouseout="this.style.transform='scale(1)'; this.style.background='#00695c';">
        üè†
      </a>
      <!-- ‡¶´‡ßÅ‡¶ü‡¶æ‡¶∞‡ßá‡¶∞ ‡¶Ü‡¶ó‡ßá ‡¶π‡ßã‡¶Æ ‡¶≤‡¶ø‡¶Ç‡¶ï -->
    <div style="text-align: center; margin: 20px 0 10px;">
      <a href="index.html" style="
        color: #00695c;
        font-family: ' kalpurush', Ador Noirrit', sans-serif;
        font-size: 18px;
        text-decoration: none;
        padding: 8px 20px;
        border: 2px solid #00695c;
        border-radius: 40px;
        transition: all 0.3s;
        display: inline-block;
        background: rgba(255,255,255,0.8);
      " onmouseover="this.style.background='#00695c'; this.style.color='white';" 
        onmouseout="this.style.background='rgba(255,255,255,0.8)'; this.style.color='#00695c';">
        ‚Üê ‡¶Æ‡ßÇ‡¶≤ ‡¶™‡ßá‡¶á‡¶ú‡ßá ‡¶´‡¶ø‡¶∞‡ßá ‡¶Ø‡¶æ‡¶®
      </a>
    </div>

    <footer>
      <img src="png/madrasa head.png" alt="‡¶Æ‡¶æ‡¶¶‡¶∞‡¶æ‡¶∏‡¶æ ‡¶π‡ßá‡¶°‡¶æ‡¶∞">
    </footer>
    <div class="footer">
      ¬© ‡ß®‡ß¶‡ß®‡ß´-‡ß®‡ß¨ ‡¶â‡¶∏‡¶Æ‡¶æ‡¶® ‡¶∏‡¶æ‡¶à‡¶¶ ‡•§ ‡¶∏‡¶∞‡ßç‡¶¨‡¶∏‡ßç‡¶¨‡¶§‡ßç‡¶¨ ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶ø‡¶§‡•§
    </div>
  </div>

  <!-- ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ ‡¶ì‡¶≠‡¶æ‡¶∞‡¶≤‡ßá -->
  <div id="statusOverlay" class="status-overlay">
    <div class="overlay-card">
      <span class="overlay-main" id="overlayMain"></span>
      <span class="overlay-sub" id="overlaySub"></span>
    </div>
  </div>

  <script>
    (function() {
      const params = new URLSearchParams(window.location.search);
      const year = params.get('year');
      const jamat = params.get('jamat');
      const reg = parseInt(params.get('reg'));
      const roll = parseInt(params.get('roll'));

      const sheetID = '1B6BzLPVKGeRosVm0p_DbMk5tssfuQTWbSF5W97-31-A';
      const sheetURL = `https://docs.google.com/spreadsheets/d/${sheetID}/gviz/tq?tqx=out:json`;

      const overlay = document.getElementById('statusOverlay');
      const overlayMain = document.getElementById('overlayMain');
      const overlaySub = document.getElementById('overlaySub');
      const infoDiv = document.getElementById('studentInfo');
      const yearDiv = document.getElementById('yearDisplay');

      fetch(sheetURL)
        .then(res => res.text())
        .then(text => {
          const json = JSON.parse(text.substr(47).slice(0, -2));
          const rows = json.table.rows;

          const data = rows.map(row => {
            const obj = {};
            json.table.cols.forEach((col, i) => {
              if (col.label) {
                obj[col.label.trim()] = row.c[i] ? row.c[i].v : '';
              }
            });
            return obj;
          });

          const student = data.find(s =>
            s['‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶¨‡¶∞‡ßç‡¶∑'] === year &&
            s['‡¶ú‡¶æ‡¶Æ‡¶æ‡¶§'] === jamat &&
            parseInt(s['‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶®/‡¶Ü‡¶á‡¶°‡¶ø ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞']) === reg &&
            parseInt(s['‡¶∞‡ßã‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞']) === roll
          );

          if (!student) {
            infoDiv.innerHTML = '<div class="not-found">‚ö†Ô∏è ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø‡•§</div>';
            yearDiv.innerHTML = "";
            overlay.classList.remove('active', 'warning');
            return;
          }

          // ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶¨‡¶∞‡ßç‡¶∑ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã
          yearDiv.innerHTML = `‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶¨‡¶∞‡ßç‡¶∑: ${student['‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶¨‡¶∞‡ßç‡¶∑'] || '‡¶â‡¶≤‡ßç‡¶≤‡ßá‡¶ñ ‡¶®‡ßá‡¶á'}`;

          // ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶ì ‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø ‡¶§‡¶•‡ßç‡¶Ø‡ßá‡¶∞ HTML (‡¶Æ‡ßÇ‡¶≤ ‡¶ï‡¶æ‡¶†‡¶æ‡¶Æ‡ßã ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶ø‡¶§)
          const fullInfoHTML = `
            <div class="title">‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ‡¶∞ ‡¶®‡¶æ‡¶Æ</div>  
            <div class="student-name-center">
              <div class="name">${student['‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ‡¶∞ ‡¶®‡¶æ‡¶Æ'] || '‡¶â‡¶≤‡ßç‡¶≤‡ßá‡¶ñ ‡¶®‡ßá‡¶á'}</div>
            </div>
            <div class="row"><div class="label">‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞</div><div class="value">${student['‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶®/‡¶Ü‡¶á‡¶°‡¶ø ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞'] || '<span class="value empty">‡¶â‡¶≤‡ßç‡¶≤‡ßá‡¶ñ ‡¶®‡ßá‡¶á</span>'}</div></div>
            <div class="row"><div class="label">‡¶∞‡ßã‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞</div><div class="value">${student['‡¶∞‡ßã‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞'] || '<span class="value empty">‡¶â‡¶≤‡ßç‡¶≤‡ßá‡¶ñ ‡¶®‡ßá‡¶á</span>'}</div></div>
            <div class="row"><div class="label">‡¶™‡¶ø‡¶§‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ</div><div class="value">${student['‡¶™‡¶ø‡¶§‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ'] || '<span class="value empty">‡¶â‡¶≤‡ßç‡¶≤‡ßá‡¶ñ ‡¶®‡ßá‡¶á</span>'}</div></div>
            <div class="row"><div class="label">‡¶Æ‡¶æ‡¶∞‡¶π‡¶æ‡¶≤‡¶æ</div><div class="value">${student['‡¶Æ‡¶æ‡¶∞‡¶π‡¶æ‡¶≤‡¶æ'] || '<span class="value empty">‡¶â‡¶≤‡ßç‡¶≤‡ßá‡¶ñ ‡¶®‡ßá‡¶á</span>'}</div></div>
            <div class="row"><div class="label">‡¶ú‡¶æ‡¶Æ‡¶æ‡¶§/‡¶∂‡ßç‡¶∞‡ßá‡¶£‡ßÄ</div><div class="value">${student['‡¶ú‡¶æ‡¶Æ‡¶æ‡¶§/‡¶∂‡ßç‡¶∞‡ßá‡¶£‡ßÄ'] || '<span class="value empty">‡¶â‡¶≤‡ßç‡¶≤‡ßá‡¶ñ ‡¶®‡ßá‡¶á</span>'}</div></div>
            <div class="row"><div class="label">‡¶Ö‡¶≠‡¶ø‡¶≠‡¶æ‡¶¨‡¶ï‡ßá‡¶∞ ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤</div><div class="value">${student['‡¶Ö‡¶≠‡¶ø‡¶≠‡¶æ‡¶¨‡¶ï‡ßá‡¶∞ ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤'] || '<span class="value empty">‡¶â‡¶≤‡ßç‡¶≤‡ßá‡¶ñ ‡¶®‡ßá‡¶á</span>'}</div></div>
            <div class="row"><div class="label">‡¶ú‡¶®‡ßç‡¶Æ ‡¶®‡¶ø‡¶¨‡¶®‡ßç‡¶ß‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞</div><div class="value">${student['‡¶ú‡¶®‡ßç‡¶Æ ‡¶®‡¶ø‡¶¨‡¶®‡ßç‡¶ß‡¶® ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞'] || '<span class="value empty">‡¶â‡¶≤‡ßç‡¶≤‡ßá‡¶ñ ‡¶®‡ßá‡¶á</span>'}</div></div>
            <div class="row"><div class="label">‡¶ú‡¶®‡ßç‡¶Æ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ</div><div class="value">${student['‡¶ú‡¶®‡ßç‡¶Æ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ'] || '<span class="value empty">‡¶â‡¶≤‡ßç‡¶≤‡ßá‡¶ñ ‡¶®‡ßá‡¶á</span>'}</div></div>
            <div class="row"><div class="label">‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ</div><div class="value">${student['‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ'] || '<span class="value empty">‡¶â‡¶≤‡ßç‡¶≤‡ßá‡¶ñ ‡¶®‡ßá‡¶á</span>'}</div></div>
            <div class="row"><div class="label">‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ ‡¶ß‡¶∞‡¶£/‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏</div><div class="value">${student['‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ ‡¶ß‡¶∞‡¶£/‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏'] || '<span class="value empty">‡¶â‡¶≤‡ßç‡¶≤‡ßá‡¶ñ ‡¶®‡ßá‡¶á</span>'}</div></div>
          `;

          // ---------- ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ ‡¶™‡ßç‡¶∞‡¶ï‡ßç‡¶∞‡¶ø‡ßü‡¶æ‡¶ï‡¶∞‡¶£ ----------
          const rawStatus = student['‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ ‡¶ß‡¶∞‡¶£/‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏'] || '';
          let mainStatus = rawStatus;
          let subStatus = '';

          // ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ ‡¶™‡¶æ‡¶∞‡ßç‡¶∏‡¶ø‡¶Ç: '‚Äì' ‡¶¨‡¶æ '‚Äî' ‡¶¨‡¶æ '-' ‡¶¶‡¶ø‡ßü‡ßá ‡¶≠‡¶æ‡¶ó ‡¶ï‡¶∞‡¶æ
          if (rawStatus.includes('‚Äì')) {
            let parts = rawStatus.split('‚Äì');
            mainStatus = parts[0].trim();
            subStatus = parts[1] ? parts[1].trim() : '';
          } else if (rawStatus.includes('‚Äî')) {
            let parts = rawStatus.split('‚Äî');
            mainStatus = parts[0].trim();
            subStatus = parts[1] ? parts[1].trim() : '';
          } else if (rawStatus.includes('-')) {
            let parts = rawStatus.split('-');
            mainStatus = parts[0].trim();
            subStatus = parts[1] ? parts[1].trim() : '';
          }

          // ‡¶¨‡¶ø‡¶∂‡ßá‡¶∑„Ç±„Éº„Çπ: '‡¶∏‡¶æ‡¶Æ‡ßü‡¶ø‡¶ï ‡¶≠‡¶∞‡ßç‡¶§‡¶ø ‡¶¨‡¶æ‡¶§‡¶ø‡¶≤' (‡¶™‡ßÅ‡¶∞‡ßã‡¶ü‡¶æ‡¶á main)
          if (rawStatus.includes('‡¶∏‡¶æ‡¶Æ‡ßü‡¶ø‡¶ï ‡¶≠‡¶∞‡ßç‡¶§‡¶ø ‡¶¨‡¶æ‡¶§‡¶ø‡¶≤')) {
            mainStatus = '‡¶∏‡¶æ‡¶Æ‡ßü‡¶ø‡¶ï ‡¶≠‡¶∞‡ßç‡¶§‡¶ø ‡¶¨‡¶æ‡¶§‡¶ø‡¶≤';
            subStatus = '';
          }

          // ‡¶ì‡¶≠‡¶æ‡¶∞‡¶≤‡ßá ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
          overlayMain.innerText = mainStatus || '‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏';
          overlaySub.innerText = subStatus || '';

          // ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶ü‡¶ø ‡¶∏‡¶§‡¶∞‡ßç‡¶ï‡ßÄ‡¶ï‡¶∞‡¶£ ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ ‡¶ï‡¶ø‡¶®‡¶æ
          const isWarning = rawStatus.includes('‡¶§‡ßç‡¶Ø‡¶æ‡¶ó‡¶ï‡ßÉ‡¶§') || 
                            rawStatus.includes('‡¶¨‡¶π‡¶ø‡¶∑‡ßç‡¶ï‡ßÉ‡¶§') || 
                            rawStatus.includes('‡¶∏‡¶æ‡¶Æ‡ßü‡¶ø‡¶ï ‡¶≠‡¶∞‡ßç‡¶§‡¶ø ‡¶¨‡¶æ‡¶§‡¶ø‡¶≤');

          // ‡¶ì‡¶≠‡¶æ‡¶∞‡¶≤‡ßá ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡ßü ‡¶ï‡¶∞‡ßÅ‡¶®
          overlay.classList.add('active');
          if (isWarning) {
            overlay.classList.add('warning');
            overlaySub.classList.add('warning-sub');
          } else {
            overlay.classList.remove('warning');
            overlaySub.classList.remove('warning-sub');
          }

          // ‡¶§‡¶•‡ßç‡¶Ø ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã‡¶∞ ‡¶Æ‡ßÇ‡¶≤ ‡¶∏‡¶ø‡¶¶‡ßç‡¶ß‡¶æ‡¶®‡ßç‡¶§
          if (isWarning) {
            // ‡¶ì‡¶≠‡¶æ‡¶∞‡¶≤‡ßá ‡¶•‡¶æ‡¶ï‡¶¨‡ßá + ‡¶≤‡¶æ‡¶≤ ‡¶¨‡ßç‡¶≤‡¶ï ‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ
            infoDiv.innerHTML = `
              <div class="blocked-info">
                <span class="blocked-icon">‚õîüö´‚õî</span>
                <div class="blocked-message">${mainStatus}</div>
                <div class="blocked-sub">${subStatus || '‡¶Ö‡¶®‡ßÅ‡¶Æ‡¶§‡¶ø ‡¶®‡ßá‡¶á'}</div>
                <div class="blocked-small">‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶§‡¶•‡ßç‡¶Ø ‡¶™‡ßç‡¶∞‡¶¶‡¶∞‡ßç‡¶∂‡¶® ‡¶ï‡¶∞‡¶æ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶¨ ‡¶®‡ßü‡•§</div>
              </div>
            `;
            // ‡¶ì‡¶≠‡¶æ‡¶∞‡¶≤‡ßá ‡¶π‡¶æ‡¶á‡¶° ‡¶π‡¶¨‡ßá ‡¶®‡¶æ (‡¶á‡¶ö‡ßç‡¶õ‡¶æ‡¶ï‡ßÉ‡¶§)
          } else {
            // ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£ ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏: ‡¶ì‡¶≠‡¶æ‡¶∞‡¶≤‡ßá ‡ßß ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶™‡¶∞ ‡¶π‡¶æ‡¶á‡¶° ‡¶π‡ßü‡ßá ‡¶§‡¶•‡ßç‡¶Ø ‡¶¶‡ßá‡¶ñ‡¶æ‡¶¨‡ßá
            infoDiv.innerHTML = fullInfoHTML;
            setTimeout(() => {
              overlay.classList.remove('active', 'warning');
            }, 1000);
          }
        })
        .catch(err => {
          console.error(err);
          infoDiv.innerHTML = '<div class="not-found">‚ö†Ô∏è ‡¶°‡ßá‡¶ü‡¶æ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§</div>';
          overlay.classList.remove('active', 'warning');
        });
    })();
  </script>
</body>
</html>
