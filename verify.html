<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8">
  <title>শিক্ষার্থী আইডি কার্ড</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    @font-face {
      font-family: 'Qayyum book';
      src: url('ফন্ট/Qayyum Book.ttf');
    }
    @font-face {
      font-family: 'JunudullahZami';
      src: url('ফন্ট/FN Junudullah Zami.ttf') format('truetype');
      font-weight: normal;
      font-style: normal;
    }
    @font-face {
      font-family: 'Sheikh Hasina';
      src: url('ফন্ট/Li Sheikh Hasina 2 Unicode.ttf');
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(15px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* ========================== */
    /* শিক্ষার্থীর তথ্য বক্স স্টাইল */
    /* ========================== */
    .row {
      display: flex;
      align-items: center;
      flex-wrap: wrap; /* এক লাইনে না হলে value নিচে যাবে */
      margin-bottom: 5px;
      padding: 12px 18px;
      border-radius: 12px;
      border: 1px solid #d6db9a;
      background: linear-gradient(90deg, #e8f5e9, #ffffff);
      box-shadow: 0 4px 10px rgba(0,0,0,0.05);
      transition: transform 0.25s ease, box-shadow 0.25s ease, background 0.25s ease;
      opacity: 0;
      animation: fadeInUp 0.6s ease forwards;
    }

    .row:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 18px rgba(0,0,0,0.12);
      background: linear-gradient(90deg, #d0f0e8, #ffffff);
    }

    /* প্রতিটি row-এর delay */
    .row:nth-of-type(1) { animation-delay: 0.2s; }
    .row:nth-of-type(2) { animation-delay: 0.3s; }
    .row:nth-of-type(3) { animation-delay: 0.4s; }
    .row:nth-of-type(4) { animation-delay: 0.5s; }
    .row:nth-of-type(5) { animation-delay: 0.6s; }
    .row:nth-of-type(6) { animation-delay: 0.7s; }
    .row:nth-of-type(7) { animation-delay: 0.8s; }
    .row:nth-of-type(8) { animation-delay: 0.9s; }
    .row:nth-of-type(9) { animation-delay: 1s; }
    .row:nth-of-type(10) { animation-delay: 1.1s; }

    /* ====== এখানে পরিবর্তনকৃত মূল স্টাইলস ====== */
    .label {
      min-width: auto;
      font-weight: bold;
      font-size: 19px;
      color: #016164;
      font-family: 'kalpurush';
      position: relative;
      margin-right: 6px; /* ✅ label এর পরে gap */
      white-space: nowrap; /* ✅ label ভাঙবে না */
    }

    .label::after {
      content: ":";
      margin-left: 3px;
      color: #004a87; /* ✅ কোলনের পর সামান্য gap */
    }
    .value {
        font-size: 19px;
        color: #3c6200;
      }

    
    /* শিক্ষার্থীর নামের বড় বক্স */
    .student-name-center {
      text-align: center;
      margin-bottom: 25px;
      font-size: 28px;
      font-family: 'Sheikh Hasina';
      color: #ffea00;
      background: linear-gradient(90deg, #00507f, rgb(0, 48, 59));
      border-radius: 5px;
      padding: 10px 25px;
      margin-top: 10px;
      display: block;
      width: 100%;
      box-sizing: border-box;
      opacity: 0;
      animation: fadeInUp 0.8s ease forwards;
    }
    
    body {
      margin: 0;
      background: linear-gradient(to bottom, #eefaf7, #dcf4f0);
      font-family: 'Qayyum book', sans-serif;
      color: #002b29;
    }

    .header img.logo {
      width: 20%;
      max-width: 680px;
      height: auto;
      display: block;
      margin: 30px auto 20px;
      border-radius: 0 0 15px 15px;
      opacity: 0;
      transform: scale(0.95);
      animation: footerFadeIn 1s ease forwards 1.2s;
    }
    .header h1 {
      font-family: 'JunudullahZami';
      font-size: 28px;
      color: #004d42;
      margin: 10px 0 0;
      text-align: center;
    }

    .card {
      max-width: 700px;
      background: #fff;
      margin: 20px auto;
      border-radius: 15px;
      padding: 25px 30px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.1);
      position: relative;
      overflow: hidden;
      animation: fadeIn 1.3s ease-in-out;
      text-align: left;
    }
    
    .title {
      margin-top: 20px;
      font-size: 18px;
      color: #006d60;
      text-align: center
    }

    .year-footer-display {
      text-align: center;
      font-size: 16px;
      margin-top: 40px;
      color: #157500;
    }

    footer {
      text-align: center;
      margin-top: 30px;
    }
    footer img {
      width: 82%;
      max-width: 680px;
      height: auto;
      display: block;
      margin: 0 auto 80px;
      border-radius: 0 0 15px 15px;
      opacity: 0;
      transform: scale(0.95);
      animation: footerFadeIn 1s ease forwards 1.2s;
    }

/* ✅ বড় স্ক্রিনে সবসময় এক লাইনে */
    @media (min-width: 768px) {
      .row {
        flex-wrap: nowrap;  /* label + value ভাঙবে না */
      }
      .value {
        flex: 1 1 100%; /* ✅ প্রয়োজন হলে পুরো লাইন নেবে */
        white-space: nowrap; /* ✅ value-ও ভাঙবে না */
        overflow: hidden;
        text-overflow: ellipsis; /* ✅ বেশি বড় হলে ... দেখাবে *
      }
    }

    /* ✅ ছোট স্ক্রিনে জায়গা না হলে value নিচে যাবে */
    @media (max-width: 767px) {
      .row {
        flex-wrap: wrap; /* value না ফিট করলে নিচে নামবে */
      }
      .value {
        white-space: normal; /* ✅ মোবাইলে ভাঙতে পারবে */
      }


    .value.empty {
      color: #888;
      font-style: italic;
      font-family: 'kalpurush';
      font-size: 15px;
    }
  }
    @keyframes footerFadeIn {
      from { opacity: 0; transform: scale(0.95) translateY(20px); }
      to { opacity: 1; transform: scale(1) translateY(0); }
    }

    footer img:hover {
      transform: scale(1.02);
      transition: transform 0.4s ease, box-shadow 0.4s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes fadeInTop {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @media(max-width: 600px){
      .card { padding: 20px; margin: 15px; }
      .row { flex-direction: row; }
      .label { text-align: left; }
      /* পূর্বে এখানে .value { flex-basis: 100%; } থাকত — সেটি সরিয়ে দেয়া হয়েছে
         যাতে মোবাইলে .value শুধুমাত্র তখনই নিচে যায় যখন প্রকৃত জায়গা না থাকে */
      .student-name-center { font-size: 24px; }
      .header img.logo { width: 120px; height: 120px; }
    }
  </style>
</head>
<body>
  <div class="header">
    <img src="png/logo.png" alt="লোগো" class="logo" />
    <h1>শিক্ষার্থী তথ্য</h1>
  </div>

  <div class="card">
    <div id="studentInfo">তথ্য লোড হচ্ছে...</div>
    <div id="yearDisplay" class="year-footer-display"></div>
  </div>

  <footer>
    <img src="png/madrasa head.png" alt="মাদরাসা হেডার">
  </footer>

  <script>
    const params = new URLSearchParams(window.location.search);
    const year = params.get('year');
    const jamat = params.get('jamat');
    const reg = parseInt(params.get('reg'));
    const roll = parseInt(params.get('roll'));

    const sheetID = '1B6BzLPVKGeRosVm0p_DbMk5tssfuQTWbSF5W97-31-A';
    const sheetURL = `https://docs.google.com/spreadsheets/d/${sheetID}/gviz/tq?tqx=out:json`;

    fetch(sheetURL)
      .then(res => res.text())
      .then(text => {
        const json = JSON.parse(text.substr(47).slice(0, -2));
        const rows = json.table.rows;

        const data = rows.map(row => {
          const obj = {};
          json.table.cols.forEach((col, i) => {
            if (col.label) {
              obj[col.label.trim()] = row.c[i] ? row.c[i].v : '';
            }
          });
          return obj;
        });

        const student = data.find(s =>
          s['শিক্ষাবর্ষ'] === year &&
          s['জামাত'] === jamat &&
          parseInt(s['রেজিস্ট্রেশন/আইডি নম্বর']) === reg &&
          parseInt(s['রোল নম্বর']) === roll
        );

        const infoDiv = document.getElementById('studentInfo');
        const yearDiv = document.getElementById('yearDisplay');

        if (!student) {
          infoDiv.innerHTML = '<div class="not-found">⚠️ শিক্ষার্থীর তথ্য পাওয়া যায়নি।</div>';
          yearDiv.innerHTML = "";
          return;
        }

        yearDiv.innerHTML = `শিক্ষাবর্ষ: ${student['শিক্ষাবর্ষ'] || 'উল্লেখ নেই'}`;

        infoDiv.innerHTML = `
          <div class="title">শিক্ষার্থীর নাম</div>  
          <div class="student-name-center">
            <div class="name">${student['শিক্ষার্থীর নাম'] || 'উল্লেখ নেই'}</div>
          </div>
          <div class="row"><div class="label">রেজিস্ট্রেশন নম্বর</div><div class="value">${student['রেজিস্ট্রেশন/আইডি নম্বর'] || '<span class="value empty">উল্লেখ নেই</span>'}</div></div>
          <div class="row"><div class="label">রোল নম্বর</div><div class="value">${student['রোল নম্বর'] || '<span class="value empty">উল্লেখ নেই</span>'}</div></div>
          <div class="row"><div class="label">পিতার নাম</div><div class="value">${student['পিতার নাম'] || '<span class="value empty">উল্লেখ নেই</span>'}</div></div>
          <div class="row"><div class="label">মারহালা</div><div class="value">${student['মারহালা'] || '<span class="value empty">উল্লেখ নেই</span>'}</div></div>
          <div class="row"><div class="label">জামাত/শ্রেণী</div><div class="value">${student['জামাত/শ্রেণী'] || '<span class="value empty">উল্লেখ নেই</span>'}</div></div>
          <div class="row"><div class="label">অভিভাবকের মোবাইল</div><div class="value">${student['অভিভাবকের মোবাইল'] || '<span class="value empty">উল্লেখ নেই</span>'}</div></div>
          <div class="row"><div class="label">জন্ম নিবন্ধন নম্বর</div><div class="value">${student['জন্ম নিবন্ধন নাম্বার'] || '<span class="value empty">উল্লেখ নেই</span>'}</div></div>
          <div class="row"><div class="label">জন্ম তারিখ</div><div class="value">${student['জন্ম তারিখ'] || '<span class="value empty">উল্লেখ নেই</span>'}</div></div>
          <div class="row"><div class="label">ঠিকানা</div><div class="value">${student['ঠিকানা'] || '<span class="value empty">উল্লেখ নেই</span>'}</div></div>
          <div class="row"><div class="label">শিক্ষার্থী ধরণ/স্ট্যাটাস</div><div class="value">${student['শিক্ষার্থী ধরণ/স্ট্যাটাস'] || '<span class="value empty">উল্লেখ নেই</span>'}</div></div>
        `;
      })
      .catch(err => {
        document.getElementById('studentInfo').innerHTML = '<div class="not-found">⚠️ ডেটা লোড করতে সমস্যা হয়েছে।</div>';
        console.error(err);
      });
  </script>
  <div class="footer">
    © ২০২৫ দারুল উলূম মাদানিয়া মহিলা মাদরাসা। সর্বস্বত্ব সংরক্ষিত।
  </div>
</body>
</html>
